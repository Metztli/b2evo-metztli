<!DOCTYPE html>
<html>
  <head>
    <meta charset='utf-8'>
    <meta http-equiv="X-UA-Compatible" content="chrome=1">
    <meta name="viewport" content="width=device-width, initial-scale=1, maximum-scale=1">
    <link href='https://fonts.googleapis.com/css?family=Architects+Daughter' rel='stylesheet' type='text/css'>
    <link rel="stylesheet" type="text/css" href="stylesheets/stylesheet.css" media="screen">
    <link rel="stylesheet" type="text/css" href="stylesheets/github-light.css" media="screen">
    <link rel="stylesheet" type="text/css" href="stylesheets/print.css" media="print">

    <!--[if lt IE 9]>
    <script src="//html5shiv.googlecode.com/svn/trunk/html5.js"></script>
    <![endif]-->

    <title>B2evo-metztli by Metztli</title>
  </head>

  <body>
    <header>
      <div class="inner">
        <h1>B2evo-metztli</h1>
        <h2>b2evolution is a powerful free blog/CMS/photo galleries/forums/doc engine you can install on OpenShift online platform as a service (PaaS)</h2>
        <a href="https://github.com/Metztli/b2evo-metztli" class="button"><small>View project on</small> GitHub</a>
      </div>
    </header>

    <div id="content-wrapper">
      <div class="inner clearfix">
        <section id="main-content">
          <h1>
<a id="b2evolution-on-openshift" class="anchor" href="#b2evolution-on-openshift" aria-hidden="true"><span aria-hidden="true" class="octicon octicon-link"></span></a>b2evolution on OpenShift</h1>

<h1></h1>

<p>b2evolution is a downloadable, open source (GPL licensed), powerful, free PHP engine enabling:</p>

<ul>
<li>CMS</li>
<li>content</li>
<li>blogs</li>
<li>photos galleries</li>
<li>community</li>
<li>forums</li>
<li>email marketing</li>
<li>documentation</li>
</ul>

<p>With a few clicks you can quickly install on Red Hat OpenShift online platform as a service (PaaS).</p>

<p>b2evolution is an open source <strong>security</strong>-conscious, full-featured alternative <em>superseding</em> WordPress.</p>

<p>More information can be found on the official <a href="http://b2evolution.net">b2evolution website</a>.</p>

<h2>
<a id="running-on-openshift" class="anchor" href="#running-on-openshift" aria-hidden="true"><span aria-hidden="true" class="octicon octicon-link"></span></a>Running on OpenShift</h2>

<hr>

<p>Create an account at <a href="https://www.openshift.com/">OpenShift</a>. You will be required to create a <strong><em>namespace</em></strong>.</p>

<p>I assume that you have installed the rhc command line tools for your operating system, as guided in Getting <a href="https://developers.openshift.com/en/getting-started-overview.html">Started With OpenShift</a></p>

<p>Create a PHP application. Evidently and to make your task ahead easier, create a working directory and change to that location.
All the rhc commands below are relative to your working directory location.</p>

<p>Below, please note that I will name the application b2evo, but you can select any (allowed) name desired.</p>

<p><code>rhc app create -a b2evo -t php-5.3</code></p>

<p>OR, alternatively,</p>

<p><code>rhc app create -a b2evo -t php-5.4</code></p>

<p>(since as of January 2014, OpenShift added PHP 5.4.)</p>

<p>A new directory named as your application (i.e. b2evo in this case) will be created at your current location. You may examine its content for instance:</p>

<p><code>ls -a b2evo/</code></p>

<p>Add mysql support to your application</p>

<p><code>rhc cartridge add -c mysql-5.1 -a b2evo</code></p>

<p>OR, alternatively,</p>

<p><code>rhc cartridge add -c mysql-5.5 -a b2evo</code></p>

<p>(since as of January 2014, OpenShift added MySQL 5.5.)</p>

<p>Make a note of the username, password, and host name (for reference purposes since your b2evolution instance will be provided with relevant values).</p>

<p>Change to your newly created directory -- which has the same name as your app:</p>

<p><code>cd b2evo/.</code></p>

<p>And remove the file:</p>

<p><code>rm -v index.php</code></p>

<p>Add this upstream b2evolution quickstart repo:</p>

<p><code>git remote add upstream -m master git://github.com/Metztli/b2evo-metztli.git</code></p>

<p>Proceed with:</p>

<p><code>git pull -s recursive -X theirs upstream master</code></p>

<p>if it does not work, and output is similar to:</p>

<p>"fatal: refusing to merge unrelated histories"</p>

<p>it means your are using git 2.9+; then try:</p>

<p><code>git pull -s recursive --allow-unrelated-histories -X theirs upstream master</code></p>

<p>A subsequent dialog or editor may be activated prompting you to '<em>enter a commit message</em>': you may simply close the dialog or editor.</p>

<p>Then push the repo upstream to OpenShift</p>

<p><code>git push</code></p>

<p>That's it! You can now instantiate your b2evolution application at:</p>

<blockquote>
<p><a href="http://b2evo-yourNameSpace.rhcloud.com">http://b2evo-yourNameSpace.rhcloud.com</a></p>
</blockquote>

<p>Please disregard if you get a message similar to:</p>

<pre><code>The database is not installed yet!

The b2evolution files are present on your server, but it seems the database is not yet set up as expected.

[...]

"You cannot use the application before you finish configuration and installation.

MySQL error:
Table 'yourAppNameDB.evo_settings' doesn't exist(Errno=1146)"

Please use the installer to finish your configuration/installation now.

On most installations, the installer should be **here** (but I can't be sure since I have no config info available! :P)
</code></pre>

<p>It only means that the values were taken directly from your OpenShift environment.</p>

<p>Proceed to select (click) either the above message referenced '<em>here</em>' link OR the '<em>Installer</em>' link -- at the upper right options in the page -- to finish the b2evolution install.</p>

<p>Select your language from the upper left cascading menu.</p>

<p>Leave the default radio button selected: New Install</p>

<p>Select rectangle labeled '<strong>Next</strong>' to proceed.</p>

<p>If you are not familiar with blogging in b2evolution, leave check mark on the 6 preselected sample collections/contents.</p>

<p>Then press the '<strong>INSTALL!</strong>'-labeled button at your lower left. Wait a couple of seconds for installation to complete and you will be provided with your</p>

<p>default login username: <em>admin</em></p>

<p>Please make a note of your random password and use it for your initial login procedure --you can change it upon logging in.</p>

<p>For security change your default login username and your email address.</p>

<hr>

<p><em><em>Huelmati</em></em> [<em>enjoy</em>]!</p>

<p>Note: of course, if you used CNAME to point your (sub)domain name to your OpenShift application, then setup your b2evolution
application by accessing your (sub)domain URL.</p>

<p>Accordingly, if you have and want to point a domain name (or subdomain) to your b2evo application (recently created), then use form of command below:</p>

<p><code>rhc alias add b2evo b2evolution.yourDomainName.xyz</code></p>

<p>Don't forget that you must first modify the CNAME at your domain DNS service provider and it usually takes at least 12hours for it to propagate.</p>

<p>Thus, as an example to guide you in your CNAME settings:</p>

<p>b2evolution.<em>yourDomainName.xyz</em>    should point to     b2evo-<em>yourNameSpace</em>.rhcloud.com</p>

<hr>

<p><img src="https://metztli.it/sites/default/files/images/Atemoztli.png" alt="Tlalocatecuhtli"></p>
        </section>

        <aside id="sidebar">
          <a href="https://github.com/Metztli/b2evo-metztli/zipball/master" class="button">
            <small>Download</small>
            .zip file
          </a>
          <a href="https://github.com/Metztli/b2evo-metztli/tarball/master" class="button">
            <small>Download</small>
            .tar.gz file
          </a>

          <p class="repo-owner"><a href="https://github.com/Metztli/b2evo-metztli"></a> is maintained by <a href="https://github.com/Metztli">Metztli</a>.</p>

          <p>This page was generated by <a href="https://pages.github.com">GitHub Pages</a> using the Architect theme by <a href="https://twitter.com/jasonlong">Jason Long</a>.</p>
        </aside>
      </div>
    </div>

  
  </body>
</html>
